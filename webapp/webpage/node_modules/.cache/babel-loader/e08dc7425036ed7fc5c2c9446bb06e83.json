{"ast":null,"code":"const isoCodes = require(\"./temp/iso_codes.json\");\n\nexport default function initialiseWorldMap() {\n  var select = null;\n  isoCodes.forEach(countryJson => {\n    const iso = countryJson.Code.toLowerCase();\n    const country = document.getElementsByClassName(iso);\n    var countryEdited = null;\n\n    if (country != null && country.length > 0 && iso != \"ru\" && iso != \"ua\") {\n      const countryName = document.getElementById(iso).childNodes[1].innerHTML;\n      const exceptions = getExceptions(iso);\n\n      if (exceptions != null) {\n        exceptions.forEach(exIso => {\n          var exCountry = document.getElementsByClassName(exIso);\n          countryEdited = subtract(country, exCountry);\n        });\n      } else {\n        countryEdited = country;\n      }\n\n      for (var i = 0; i < countryEdited.length; i++) {\n        countryEdited[i].addEventListener(\"mouseover\", function () {\n          if (select == null) {\n            fill(countryName, countryEdited);\n          }\n        });\n        countryEdited[i].addEventListener(\"mouseleave\", function () {\n          if (select == null) {\n            unfill(countryEdited);\n          }\n        });\n        countryEdited[i].addEventListener(\"click\", function () {\n          actionOnClick(countryName, countryEdited);\n        });\n      }\n    }\n  });\n  const sea = document.getElementsByClassName(\"oceanxx\");\n\n  for (var i = 0; i < sea.length; i++) {\n    sea[i].addEventListener(\"click\", function () {\n      actionOnClick(null, sea);\n    });\n  }\n}\n\nfunction fill(name, country) {\n  document.getElementById(\"curCountry\").innerHTML = name;\n\n  for (var i = 0; i < country.length; i++) {\n    country[i].style = \"fill:#005bbb\";\n  }\n}\n\nfunction unfill(country) {\n  document.getElementById(\"curCountry\").innerHTML = \"World\";\n\n  for (var i = 0; i < country.length; i++) {\n    country[i].style = \"fill:#e0e0e0\";\n  }\n}\n\nfunction actionOnClick(name, country) {\n  if (select == null && country != sea) {\n    fill(name, country);\n    select = country;\n  } else {\n    if (select != null && select != sea) {\n      unfill(select);\n    }\n\n    if (country == sea) {\n      select = null;\n    } else {\n      fill(name, country);\n      select = country;\n    }\n  }\n}\n\nfunction getExceptions(iso) {\n  if (iso == \"rs\") {\n    //serbia and kosovo\n    return [\"xk\"];\n  } else if (iso == \"ru\") {\n    //russia and ukraine\n    return [\"ua\"];\n  } else if (iso == \"il\") {\n    //israel and palestine\n    return [\"ps\"];\n  } else if (iso == \"cn\") {\n    //china und taiwan\n    return [\"tw\"];\n  } else if (iso == \"ma\") {\n    //morocco and western sahara\n    return [\"eh\"];\n  }\n\n  return null; // removed from json with iso codes\n  // {\"Code\": \"GF\", \"Name\": \"French Guiana\"},\n}\n\nfunction subtract(c1, c2) {\n  var countryEdited = [];\n\n  for (var i = 0; i < c1.length; i++) {\n    var push = true;\n\n    for (var j = 0; j < c2.length; j++) {\n      if (c1[i].outerHTML.localeCompare(c2[j].outerHTML) == 0) {\n        push = false;\n        break;\n      }\n    }\n\n    if (push) {\n      countryEdited.push(c1[i]);\n    }\n  }\n\n  return countryEdited;\n}","map":{"version":3,"sources":["/mnt/5ef62a2a-1eec-4bdc-ad7c-f8a7d48861b1/Nextcloud/Dokumente/Coding/Projects/www/russiantrade/src/main/webapp/webpage/src/temp/worldMapInteract.tsx"],"names":["isoCodes","require","initialiseWorldMap","select","forEach","countryJson","iso","Code","toLowerCase","country","document","getElementsByClassName","countryEdited","length","countryName","getElementById","childNodes","innerHTML","exceptions","getExceptions","exIso","exCountry","subtract","i","addEventListener","fill","unfill","actionOnClick","sea","name","style","c1","c2","push","j","outerHTML","localeCompare"],"mappings":"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","sourcesContent":["const isoCodes = require(\"./temp/iso_codes.json\");\r\n\r\n\r\nexport default function initialiseWorldMap() {\r\n    var select = null;\r\n\r\n    isoCodes.forEach(countryJson => {\r\n        const iso = countryJson.Code.toLowerCase();\r\n        const country = document.getElementsByClassName(iso);\r\n        var countryEdited = null;\r\n\r\n        if(country != null && country.length > 0 && iso != \"ru\" && iso != \"ua\") {\r\n            const countryName = document.getElementById(iso).childNodes[1].innerHTML;\r\n            \r\n            const exceptions = getExceptions(iso);\r\n            if(exceptions != null) {\r\n                exceptions.forEach(exIso => {\r\n                    var exCountry = document.getElementsByClassName(exIso);\r\n                    countryEdited = subtract(country, exCountry);\r\n                });\r\n            } else {\r\n                countryEdited = country;\r\n            }\r\n        \r\n            for(var i = 0; i < countryEdited.length; i++) {\r\n                countryEdited[i].addEventListener(\"mouseover\", function() {\r\n                    if(select == null) {\r\n                        fill(countryName, countryEdited);\r\n                    }\r\n                });\r\n                countryEdited[i].addEventListener(\"mouseleave\", function() {\r\n                    if(select == null) {\r\n                        unfill(countryEdited)\r\n                    }\r\n                });\r\n                countryEdited[i].addEventListener(\"click\", function() {actionOnClick(countryName, countryEdited)});\r\n\r\n            }\r\n        }\r\n    });\r\n    const sea = document.getElementsByClassName(\"oceanxx\");\r\n    for(var i = 0; i < sea.length; i++) {\r\n        sea[i].addEventListener(\"click\", function() {actionOnClick(null, sea)});\r\n                \r\n    }\r\n}\r\n\r\nfunction fill(name, country) {\r\n    document.getElementById(\"curCountry\").innerHTML = name;\r\n\r\n    for(var i = 0; i < country.length; i++) {\r\n        country[i].style = \"fill:#005bbb\";\r\n    }\r\n}\r\n\r\nfunction unfill(country) {\r\n    document.getElementById(\"curCountry\").innerHTML = \"World\";\r\n\r\n    for(var i = 0; i < country.length; i++) {\r\n        country[i].style = \"fill:#e0e0e0\";\r\n    }\r\n}\r\n\r\nfunction actionOnClick(name, country) {\r\n\r\n    if(select == null && country != sea) {\r\n        fill(name, country);\r\n        select = country;\r\n    } else {\r\n        if(select != null && select != sea) {\r\n            unfill(select);\r\n        }\r\n        if(country == sea) {\r\n            select = null;\r\n        } else {\r\n            fill(name, country);\r\n            select = country;\r\n        }\r\n    }\r\n}\r\n\r\nfunction getExceptions(iso) {\r\n    if (iso == \"rs\") { //serbia and kosovo\r\n        return [\"xk\"];\r\n    } else if (iso == \"ru\") { //russia and ukraine\r\n        return [\"ua\"];\r\n    } else if(iso == \"il\") { //israel and palestine\r\n        return [\"ps\"];\r\n    } else if(iso == \"cn\") { //china und taiwan\r\n        return [\"tw\"];\r\n    } else if(iso == \"ma\") { //morocco and western sahara\r\n        return [\"eh\"];\r\n    }\r\n    return null;\r\n\r\n    // removed from json with iso codes\r\n    // {\"Code\": \"GF\", \"Name\": \"French Guiana\"},\r\n}\r\n\r\nfunction subtract(c1, c2) {\r\n    var countryEdited = [];\r\n\r\n    for(var i = 0; i < c1.length; i++) {\r\n        var push = true;\r\n\r\n        for(var j = 0; j < c2.length; j++) {\r\n\r\n            if(c1[i].outerHTML.localeCompare(c2[j].outerHTML) == 0) {\r\n                push = false;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if(push) {\r\n            countryEdited.push(c1[i]);\r\n        }\r\n    }\r\n    return countryEdited;\r\n}"]},"metadata":{},"sourceType":"module"}