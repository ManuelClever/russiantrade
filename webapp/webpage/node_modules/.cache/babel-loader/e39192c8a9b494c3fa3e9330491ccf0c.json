{"ast":null,"code":"const isoCodes = require(\"./temp/iso_codes.json\");\n\nvar select = null;\nisoCodes.forEach(countryJson => {\n  const iso = countryJson.Code.toLowerCase();\n  const country = document.getElementsByClassName(iso);\n  var countryEdited = null;\n\n  if (country != null && country.length > 0 && iso != \"ru\" && iso != \"ua\") {\n    const countryName = document.getElementById(iso).childNodes[1].innerHTML;\n    const exceptions = getExceptions(iso);\n\n    if (exceptions != null) {\n      exceptions.forEach(exIso => {\n        var exCountry = document.getElementsByClassName(exIso);\n        countryEdited = subtract(country, exCountry);\n      });\n    } else {\n      countryEdited = country;\n    }\n\n    for (var i = 0; i < countryEdited.length; i++) {\n      countryEdited[i].addEventListener(\"mouseover\", function () {\n        if (select == null) {\n          fill(countryName, countryEdited);\n        }\n      });\n      countryEdited[i].addEventListener(\"mouseleave\", function () {\n        if (select == null) {\n          unfill(countryEdited);\n        }\n      });\n      countryEdited[i].addEventListener(\"click\", function () {\n        actionOnClick(countryName, countryEdited);\n      });\n    }\n  }\n});\nconst sea = document.getElementsByClassName(\"oceanxx\");\n\nfor (var i = 0; i < sea.length; i++) {\n  sea[i].addEventListener(\"click\", function () {\n    actionOnClick(null, sea);\n  });\n}\n\nfunction fill(name, country) {\n  document.getElementById(\"curCountry\").innerHTML = name;\n\n  for (var i = 0; i < country.length; i++) {\n    country[i].style = \"fill:#005bbb\";\n  }\n}\n\nfunction unfill(country) {\n  document.getElementById(\"curCountry\").innerHTML = \"World\";\n\n  for (var i = 0; i < country.length; i++) {\n    country[i].style = \"fill:#e0e0e0\";\n  }\n}\n\nfunction actionOnClick(name, country) {\n  if (select == null && country != sea) {\n    fill(name, country);\n    select = country;\n  } else {\n    if (select != null && select != sea) {\n      unfill(select);\n    }\n\n    if (country == sea) {\n      select = null;\n    } else {\n      fill(name, country);\n      select = country;\n    }\n  }\n}\n\nfunction getExceptions(iso) {\n  if (iso == \"rs\") {\n    //serbia and kosovo\n    return [\"xk\"];\n  } else if (iso == \"ru\") {\n    //russia and ukraine\n    return [\"ua\"];\n  } else if (iso == \"il\") {\n    //israel and palestine\n    return [\"ps\"];\n  } else if (iso == \"cn\") {\n    //china und taiwan\n    return [\"tw\"];\n  } else if (iso == \"ma\") {\n    //morocco and western sahara\n    return [\"eh\"];\n  }\n\n  return null; // removed from json with iso codes\n  // {\"Code\": \"GF\", \"Name\": \"French Guiana\"},\n}\n\nfunction subtract(c1, c2) {\n  var countryEdited = [];\n\n  for (var i = 0; i < c1.length; i++) {\n    var push = true;\n\n    for (var j = 0; j < c2.length; j++) {\n      if (c1[i].outerHTML.localeCompare(c2[j].outerHTML) == 0) {\n        push = false;\n        break;\n      }\n    }\n\n    if (push) {\n      countryEdited.push(c1[i]);\n    }\n  }\n\n  return countryEdited;\n}","map":{"version":3,"sources":["/mnt/5ef62a2a-1eec-4bdc-ad7c-f8a7d48861b1/Nextcloud/Dokumente/Coding/Projects/www/russiantrade/src/main/webapp/webpage/src/temp/worldMapInteract.tsx"],"names":["isoCodes","require","select","forEach","countryJson","iso","Code","toLowerCase","country","document","getElementsByClassName","countryEdited","length","countryName","getElementById","childNodes","innerHTML","exceptions","getExceptions","exIso","exCountry","subtract","i","addEventListener","fill","unfill","actionOnClick","sea","name","style","c1","c2","push","j","outerHTML","localeCompare"],"mappings":"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","sourcesContent":["const isoCodes = require(\"./temp/iso_codes.json\");\r\n\r\nvar select = null;\r\nisoCodes.forEach(countryJson => {\r\n    const iso = countryJson.Code.toLowerCase();\r\n    const country = document.getElementsByClassName(iso);\r\n    var countryEdited = null;\r\n\r\n    if(country != null && country.length > 0 && iso != \"ru\" && iso != \"ua\") {\r\n        const countryName = document.getElementById(iso).childNodes[1].innerHTML;\r\n        \r\n        const exceptions = getExceptions(iso);\r\n        if(exceptions != null) {\r\n            exceptions.forEach(exIso => {\r\n                var exCountry = document.getElementsByClassName(exIso);\r\n                countryEdited = subtract(country, exCountry);\r\n            });\r\n        } else {\r\n            countryEdited = country;\r\n        }\r\n    \r\n        for(var i = 0; i < countryEdited.length; i++) {\r\n            countryEdited[i].addEventListener(\"mouseover\", function() {\r\n                if(select == null) {\r\n                    fill(countryName, countryEdited);\r\n                }\r\n            });\r\n            countryEdited[i].addEventListener(\"mouseleave\", function() {\r\n                if(select == null) {\r\n                    unfill(countryEdited)\r\n                }\r\n            });\r\n            countryEdited[i].addEventListener(\"click\", function() {actionOnClick(countryName, countryEdited)});\r\n\r\n        }\r\n    }\r\n});\r\nconst sea = document.getElementsByClassName(\"oceanxx\");\r\nfor(var i = 0; i < sea.length; i++) {\r\n    sea[i].addEventListener(\"click\", function() {actionOnClick(null, sea)});\r\n            \r\n}\r\n\r\nfunction fill(name, country) {\r\n    document.getElementById(\"curCountry\").innerHTML = name;\r\n\r\n    for(var i = 0; i < country.length; i++) {\r\n        country[i].style = \"fill:#005bbb\";\r\n    }\r\n}\r\n\r\nfunction unfill(country) {\r\n    document.getElementById(\"curCountry\").innerHTML = \"World\";\r\n\r\n    for(var i = 0; i < country.length; i++) {\r\n        country[i].style = \"fill:#e0e0e0\";\r\n    }\r\n}\r\n\r\nfunction actionOnClick(name, country) {\r\n\r\n    if(select == null && country != sea) {\r\n        fill(name, country);\r\n        select = country;\r\n    } else {\r\n        if(select != null && select != sea) {\r\n            unfill(select);\r\n        }\r\n        if(country == sea) {\r\n            select = null;\r\n        } else {\r\n            fill(name, country);\r\n            select = country;\r\n        }\r\n    }\r\n}\r\n\r\nfunction getExceptions(iso) {\r\n    if (iso == \"rs\") { //serbia and kosovo\r\n        return [\"xk\"];\r\n    } else if (iso == \"ru\") { //russia and ukraine\r\n        return [\"ua\"];\r\n    } else if(iso == \"il\") { //israel and palestine\r\n        return [\"ps\"];\r\n    } else if(iso == \"cn\") { //china und taiwan\r\n        return [\"tw\"];\r\n    } else if(iso == \"ma\") { //morocco and western sahara\r\n        return [\"eh\"];\r\n    }\r\n    return null;\r\n\r\n    // removed from json with iso codes\r\n    // {\"Code\": \"GF\", \"Name\": \"French Guiana\"},\r\n}\r\n\r\nfunction subtract(c1, c2) {\r\n    var countryEdited = [];\r\n\r\n    for(var i = 0; i < c1.length; i++) {\r\n        var push = true;\r\n\r\n        for(var j = 0; j < c2.length; j++) {\r\n\r\n            if(c1[i].outerHTML.localeCompare(c2[j].outerHTML) == 0) {\r\n                push = false;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if(push) {\r\n            countryEdited.push(c1[i]);\r\n        }\r\n    }\r\n    return countryEdited;\r\n}"]},"metadata":{},"sourceType":"module"}